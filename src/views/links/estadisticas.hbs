<link rel="stylesheet" href="https://bootswatch.com/5/zephyr/bootstrap.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <header>
        <img class= "logo animate__animated animate__rotateInDownLeft animate__slower" src="/images/NoNeim.png" alt="Error al cargar (Logo de NoNeim)" title="Logo NoNeim">
        <div class="margin__title">
            <p title="NoNeim" class= "fuente__title animate__animated animate__bounceInUp animate__slower">NoNeim</p>
        </div>
        <nav>
            <a href="/administrator"><i class="fas fa-user"></i> Usuarios </a>            
            <a href="/adminexam"> Administrar Examen </a>            
            <a href="/cuest"> Administrar Cuestionarios </a>  
            <a href="/stats"> Estadisticas </a>  
            <a href="/logout"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a> 
        </nav>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
          <br>
        <br>
        <br>
        <br>
        <br>
        <br>
    </header>  <br>
        <br>
        
        <br>
        <br>
        <br><br>
        <br>
        <br>
        <br>
    <center>
    <div class="card border-light mb-3" style="max-width: 30rem;">
  <div class="card-header"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><h1>Resultados de Examen</h1></font></font></div>
  <div class="card-body">
    <h4 class="card-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se muestran los resultados de los alumnos en los examenes actuales</font></font></h4>
    <canvas id="myChart" ></canvas>
  </div>
</div>
<center>
    <div class="form-group">
                        <br>
                           <a href="/examenes"><button class="btn btn-success btn-block">Resultados individuales</button></a> 
                    </div>
                    <div class="form-group">
                        <br>
                           <a href="/statscuest"><button class="btn btn-success btn-block">Estadisticas de Cuestionarios</button></a> 
                    </div>
                    </center>
</center>
    
    <form name="form">
    {{#each examen}}
         <input id="usuario" type="text" value="{{matematicas}}" hidden>
    {{/each}}
    </form>
    <form name="form1">
    {{#each examen}}
         <input id="usuario" type="text" value="{{espa}}" hidden>
    {{/each}}
    </form>
    
<script>
const ctx = document.getElementById('myChart');
const arreglo = [0,0,0,0,0,0,0,0]

const mate = document.forms["form"];
for(var i = 1 ; i <= mate.length; i++){
    console.log(mate[i-1].value)
    arreglo[0] = (arreglo[0] - mate[i-1].value);
}
arreglo[0] = arreglo[0]*-1;
arreglo[0] =  arreglo[0] / mate.length;

const espa = document.forms["form1"];
for(var i = 1 ; i <= espa.length; i++){
    console.log(mate[i-1].value)
    arreglo[1] = (arreglo[1] - espa[i-1].value);
}
arreglo[1] = arreglo[1]*-1;
arreglo[1] =  arreglo[1] / espa.length;


const myChart = new Chart(ctx, {
    type: 'polarArea',
    data: {
         labels: [
    'Matematicas',
    'Español',
    'Biologia',
    'Fisica',
    'Quimica',
    'Historia',
    'Geografia',
    'Formacion'
  ],
        datasets: [{
            label: 'Aciertos',
            data: arreglo,
            backgroundColor: [
                'rgba(255, 99, 132, 0.5)',
                'rgba(54, 162, 235, 0.5)',
                'rgba(255, 206, 86, 0.5)',
                'rgba(75, 192, 192, 0.5)',
                'rgba(153, 102, 255, 0.5)',
                'rgba(255, 159, 64, 0.5)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
        }
    }
});
</script>